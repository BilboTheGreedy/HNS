{{ define "content" }}
<div class="row">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3">Hostname Details</h1>
            <div>
                <a href="/hostnames" class="btn btn-outline-secondary">
                    <i class="fas fa-arrow-left"></i> Back to List
                </a>
            </div>
        </div>

        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">{{ .Hostname.Name }}</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <table class="table table-bordered">
                            <tr>
                                <th class="w-25">ID</th>
                                <td>{{ .Hostname.ID }}</td>
                            </tr>
                            <tr>
                                <th>Status</th>
                                <td><span class="badge status-{{ .Hostname.Status }}">{{ .Hostname.Status }}</span></td>
                            </tr>
                            <tr>
                                <th>Template</th>
                                <td>{{ .Template.Name }}</td>
                            </tr>
                            <tr>
                                <th>Sequence</th>
                                <td>{{ .Hostname.SequenceNum }}</td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <table class="table table-bordered">
                            <tr>
                                <th class="w-25">Reserved By</th>
                                <td>{{ .Hostname.ReservedBy }}</td>
                            </tr>
                            <tr>
                                <th>Reserved At</th>
                                <td>{{ formatTime .Hostname.ReservedAt }}</td>
                            </tr>
                            {{ if .Hostname.CommittedAt }}
                            <tr>
                                <th>Committed By</th>
                                <td>{{ .Hostname.CommittedBy }}</td>
                            </tr>
                            <tr>
                                <th>Committed At</th>
                                <td>{{ formatTime .Hostname.CommittedAt }}</td>
                            </tr>
                            {{ end }}
                            {{ if .Hostname.ReleasedAt }}
                            <tr>
                                <th>Released By</th>
                                <td>{{ .Hostname.ReleasedBy }}</td>
                            </tr>
                            <tr>
                                <th>Released At</th>
                                <td>{{ formatTime .Hostname.ReleasedAt }}</td>
                            </tr>
                            {{ end }}
                        </table>
                    </div>
                </div>

                <div class="mt-4">
                    <h5>Actions</h5>
                    <div class="btn-toolbar">
                        {{ if eq .Hostname.Status "reserved" }}
                        <a href="/hostnames/{{ .Hostname.ID }}/commit" class="btn btn-success me-2">
                            <i class="fas fa-check"></i> Commit Hostname
                        </a>
                        {{ else if eq .Hostname.Status "committed" }}
                        <a href="/hostnames/{{ .Hostname.ID }}/release" class="btn btn-secondary me-2">
                            <i class="fas fa-undo"></i> Release Hostname
                        </a>
                        {{ end }}
                        <a href="/dns/check/{{ .Hostname.Name }}" class="btn btn-info me-2">
                            <i class="fas fa-network-wired"></i> Check DNS
                        </a>
                        <button type="button" class="btn btn-outline-primary" onclick="copyToClipboard('{{ .Hostname.Name }}')">
                            <i class="fas fa-copy"></i> Copy Name
                        </button>
                    </div>
                </div>

                {{ if .Template }}
                <div class="mt-4">
                    <h5>Template Information</h5>
                    <table class="table table-bordered">
                        <tr>
                            <th class="w-25">Template Name</th>
                            <td>{{ .Template.Name }}</td>
                        </tr>
                        <tr>
                            <th>Description</th>
                            <td>{{ .Template.Description }}</td>
                        </tr>
                        <tr>
                            <th>Max Length</th>
                            <td>{{ .Template.MaxLength }}</td>
                        </tr>
                        <tr>
                            <th>Sequence Start</th>
                            <td>{{ .Template.SequenceStart }}</td>
                        </tr>
                        <tr>
                            <th>Created By</th>
                            <td>{{ .Template.CreatedBy }}</td>
                        </tr>
                    </table>
                </div>
                {{ end }}
            </div>
        </div>
    </div>
</div>

<script>
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
        // Create a temporary alert
        const alertDiv = document.createElement('div');
        alertDiv.className = 'alert alert-success position-fixed top-0 start-50 translate-middle-x mt-4';
        alertDiv.style.zIndex = '9999';
        alertDiv.innerHTML = '<i class="fas fa-check-circle me-2"></i> Hostname copied to clipboard';
        document.body.appendChild(alertDiv);
        
        // Remove the alert after 2 seconds
        setTimeout(function() {
            alertDiv.remove();
        }, 2000);
    }).catch(function(err) {
        console.error('Could not copy text: ', err);
    });
}
</script>
{{ end }}